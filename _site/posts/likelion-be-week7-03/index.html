<!doctype html>














<!-- `site.alt_lang` can specify a language different from the UI -->
<html lang="en" 
  
>
  <!-- The Head -->

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7">
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta
    name="viewport"
    content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover"
  >

  
    

    
  

  

  

  
    <!-- Begin Jekyll SEO tag v2.8.0 -->
<meta name="generator" content="Jekyll v4.3.2" />
<meta property="og:title" content="[Spring Security] 동시 세션 제어와 세션 고정 보호, CSRF" />
<meta name="author" content="Antraxmin" />
<meta property="og:locale" content="en" />
<meta name="description" content="동시 세션 제어" />
<meta property="og:description" content="동시 세션 제어" />
<link rel="canonical" href="http://localhost:4000/posts/likelion-be-week7-03/" />
<meta property="og:url" content="http://localhost:4000/posts/likelion-be-week7-03/" />
<meta property="og:site_name" content="Antraxmin" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2023-06-26T22:00:00+09:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="[Spring Security] 동시 세션 제어와 세션 고정 보호, CSRF" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Antraxmin","url":"https://github.com/Antraxmin/"},"dateModified":"2023-06-26T22:00:00+09:00","datePublished":"2023-06-26T22:00:00+09:00","description":"동시 세션 제어","headline":"[Spring Security] 동시 세션 제어와 세션 고정 보호, CSRF","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/posts/likelion-be-week7-03/"},"url":"http://localhost:4000/posts/likelion-be-week7-03/"}</script>
<!-- End Jekyll SEO tag -->

  

  <title>[Spring Security] 동시 세션 제어와 세션 고정 보호, CSRF | Antraxmin
  </title>

  <!--
  The Favicons for Web, Android, Microsoft, and iOS (iPhone and iPad) Apps
  Generated by: https://realfavicongenerator.net/
-->



<link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png">
<link rel="manifest" href="/assets/img/favicons/site.webmanifest">
<link rel="shortcut icon" href="/assets/img/favicons/favicon.ico">
<meta name="apple-mobile-web-app-title" content="Antraxmin">
<meta name="application-name" content="Antraxmin">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml">
<meta name="theme-color" content="#ffffff">


  
    
      <link rel="preconnect" href="https://fonts.googleapis.com" >
      <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
    
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      <link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin>
    
      <link rel="preconnect" href="https://fonts.googleapis.com" >
      <link rel="dns-prefetch" href="https://fonts.googleapis.com" >
    
      <link rel="preconnect" href="https://cdn.jsdelivr.net" >
      <link rel="dns-prefetch" href="https://cdn.jsdelivr.net" >
    

    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;900&display=swap">
  

  <!-- GA -->
  

  <!-- Bootstrap -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.4.0/css/all.min.css">

  <link rel="stylesheet" href="/assets/css/style.css">

  
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.21.0/dist/tocbot.min.css">
  

  
    <!-- Manific Popup -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css">
  

  <!-- JavaScript -->

  
    <!-- Switch the mode between dark and light. -->

<script type="text/javascript">
  class ModeToggle {
    static get MODE_KEY() {
      return 'mode';
    }
    static get MODE_ATTR() {
      return 'data-mode';
    }
    static get DARK_MODE() {
      return 'dark';
    }
    static get LIGHT_MODE() {
      return 'light';
    }
    static get ID() {
      return 'mode-toggle';
    }

    constructor() {
      if (this.hasMode) {
        if (this.isDarkMode) {
          if (!this.isSysDarkPrefer) {
            this.setDark();
          }
        } else {
          if (this.isSysDarkPrefer) {
            this.setLight();
          }
        }
      }

      let self = this;

      /* always follow the system prefers */
      this.sysDarkPrefers.addEventListener('change', () => {
        if (self.hasMode) {
          if (self.isDarkMode) {
            if (!self.isSysDarkPrefer) {
              self.setDark();
            }
          } else {
            if (self.isSysDarkPrefer) {
              self.setLight();
            }
          }

          self.clearMode();
        }

        self.notify();
      });
    } /* constructor() */

    get sysDarkPrefers() {
      return window.matchMedia('(prefers-color-scheme: dark)');
    }

    get isSysDarkPrefer() {
      return this.sysDarkPrefers.matches;
    }

    get isDarkMode() {
      return this.mode === ModeToggle.DARK_MODE;
    }

    get isLightMode() {
      return this.mode === ModeToggle.LIGHT_MODE;
    }

    get hasMode() {
      return this.mode != null;
    }

    get mode() {
      return sessionStorage.getItem(ModeToggle.MODE_KEY);
    }

    /* get the current mode on screen */
    get modeStatus() {
      if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) {
        return ModeToggle.DARK_MODE;
      } else {
        return ModeToggle.LIGHT_MODE;
      }
    }

    setDark() {
      document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE);
      sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE);
    }

    setLight() {
      document.documentElement.setAttribute(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE);
      sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE);
    }

    clearMode() {
      document.documentElement.removeAttribute(ModeToggle.MODE_ATTR);
      sessionStorage.removeItem(ModeToggle.MODE_KEY);
    }

    /* Notify another plugins that the theme mode has changed */
    notify() {
      window.postMessage(
        {
          direction: ModeToggle.ID,
          message: this.modeStatus
        },
        '*'
      );
    }

    flipMode() {
      if (this.hasMode) {
        if (this.isSysDarkPrefer) {
          if (this.isLightMode) {
            this.clearMode();
          } else {
            this.setLight();
          }
        } else {
          if (this.isDarkMode) {
            this.clearMode();
          } else {
            this.setDark();
          }
        }
      } else {
        if (this.isSysDarkPrefer) {
          this.setLight();
        } else {
          this.setDark();
        }
      }

      this.notify();
    } /* flipMode() */
  } /* ModeToggle */

  const modeToggle = new ModeToggle();
</script>

  

  <!-- A placeholder to allow defining custom metadata -->

</head>


  <body>
    <!-- The Side Bar -->

<div id="sidebar" class="d-flex flex-column align-items-end">
  <div class="profile-wrapper">
    <a href="/" id="avatar" class="rounded-circle">
      
        
        <img src="/assets/img/profile.PNG" width="112" height="112" alt="avatar" onerror="this.style.display='none'">
      
    </a>

    <div class="site-title">
      <a href="/">Antraxmin</a>
    </div>
    <div class="site-subtitle fst-italic">개발하는 창업가</div>
  </div>
  <!-- .profile-wrapper -->

  <ul class="nav flex-column flex-grow-1 w-100 ps-0">
    <!-- home -->
    <li class="nav-item">
      <a href="/" class="nav-link">
        <i class="fa-fw fas fa-home"></i>
        <span>HOME</span>
      </a>
    </li>
    <!-- the real tabs -->
    
      <li class="nav-item">
        <a href="/categories/" class="nav-link">
          <i class="fa-fw fas fa-stream"></i>
          

          <span>CATEGORIES</span>
        </a>
      </li>
      <!-- .nav-item -->
    
      <li class="nav-item">
        <a href="/tags/" class="nav-link">
          <i class="fa-fw fas fa-tags"></i>
          

          <span>TAGS</span>
        </a>
      </li>
      <!-- .nav-item -->
    
      <li class="nav-item">
        <a href="/archives/" class="nav-link">
          <i class="fa-fw fas fa-archive"></i>
          

          <span>ARCHIVES</span>
        </a>
      </li>
      <!-- .nav-item -->
    
      <li class="nav-item">
        <a href="/about/" class="nav-link">
          <i class="fa-fw fas fa-info-circle"></i>
          

          <span>ABOUT</span>
        </a>
      </li>
      <!-- .nav-item -->
    
  </ul>
  <!-- ul.nav.flex-column -->

  <div class="sidebar-bottom d-flex flex-wrap  align-items-center w-100">
    
      <button class="mode-toggle btn" aria-label="Switch Mode">
        <i class="fas fa-adjust"></i>
      </button>

      
        <span class="icon-border"></span>
      
    

    
      

      
        <a
          href="https://github.com/Antraxmin"
          aria-label="github"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fab fa-github"></i>
        </a>
      
    
      

      
        <a
          href="https://twitter.com/"
          aria-label="twitter"
          

          
            target="_blank"
            
          

          

          
            rel="noopener noreferrer"
          
        >
          <i class="fab fa-twitter"></i>
        </a>
      
    
      

      
        <a
          href="javascript:location.href = 'mailto:' + ['antraxmin','naver.com'].join('@')"
          aria-label="email"
          

          

          

          
        >
          <i class="fas fa-envelope"></i>
        </a>
      
    
      

      
        <a
          href="/feed.xml"
          aria-label="rss"
          

          

          

          
        >
          <i class="fas fa-rss"></i>
        </a>
      
    
  </div>
  <!-- .sidebar-bottom -->
</div>
<!-- #sidebar -->


    <div id="main-wrapper" class="d-flex justify-content-center">
      <div id="main" class="container px-xxl-5">
        <!-- The Top Bar -->

<div id="topbar-wrapper">
  <div
    id="topbar"
    class="container d-flex align-items-center justify-content-between h-100"
  >
    <span id="breadcrumb">
      

      
        
          
            <span>
              <a href="/">
                Home
              </a>
            </span>

          
        
          
        
          
            
              <span>[Spring Security] 동시 세션 제어와 세션 고정 보호, CSRF</span>
            

          
        
      
    </span>
    <!-- endof #breadcrumb -->

    <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i>

    <div id="topbar-title">
      Post
    </div>

    <i id="search-trigger" class="fas fa-search fa-fw"></i>
    <span id="search-wrapper" class="align-items-center">
      <i class="fas fa-search fa-fw"></i>
      <input
        class="form-control"
        id="search-input"
        type="search"
        aria-label="search"
        autocomplete="off"
        placeholder="Search..."
      >
    </span>
    <span id="search-cancel">Cancel</span>
  </div>
</div>

        











<div class="row">
  <!-- core -->
  <div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pe-xl-4">
    

    <div class="post px-1 px-md-2">
      

      
        
      
        <!-- Refactor the HTML structure -->



<!--
  In order to allow a wide table to scroll horizontally,
  we suround the markdown table with `<div class="table-wrapper">` and `</div>`
-->



<!--
  Fixed kramdown code highlight rendering:
  https://github.com/penibelst/jekyll-compress-html/issues/101
  https://github.com/penibelst/jekyll-compress-html/issues/71#issuecomment-188144901
-->



<!-- Change the icon of checkbox -->


<!-- images -->



  
  

  <!-- CDN URL -->
  

  <!-- Add image path -->
  

  
    
      
      
    

    
    

    

    
    

    
    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    

    

    <!-- lazy-load images <https://github.com/aFarkas/lazysizes#readme> -->
    
    

    <!-- add image placeholder -->
    
      
    

    <!-- Bypass the HTML-proofer test -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        
      
    

    <!-- combine -->
    

  
    

    
    

    

    
    

    
    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    

    

    <!-- lazy-load images <https://github.com/aFarkas/lazysizes#readme> -->
    
    

    <!-- add image placeholder -->
    
      
    

    <!-- Bypass the HTML-proofer test -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        
      
    

    <!-- combine -->
    

  
    

    
    

    

    
    

    
    
    
    

    
      

      
      
      

      
    
      

      
      
      

      
    

    <!-- take out classes -->
    

    

    

    

    <!-- lazy-load images <https://github.com/aFarkas/lazysizes#readme> -->
    
    

    <!-- add image placeholder -->
    
      
    

    <!-- Bypass the HTML-proofer test -->
    

    
      <!-- make sure the `<img>` is wrapped by `<a>` -->
      

      
        <!-- create the image wrapper -->
        
      
    

    <!-- combine -->
    

  

  



<!-- Add header for code snippets -->



<!-- Create heading anchors -->





  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    

    

  

  
  

  
    
    

    
      
        
        
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    
      

      
      

      
      
      

      

    

    

  

  
  

  

  
  

  




<!-- return -->




<h1 data-toc-skip>[Spring Security] 동시 세션 제어와 세션 고정 보호, CSRF</h1>

<div class="post-meta text-muted">
    <!-- published date -->
    <span>
      Posted
      <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->





<em
  class=""
  data-ts="1687784400"
  data-df="ll"
  
    data-bs-toggle="tooltip" data-bs-placement="bottom"
  
>
  Jun 26, 2023
</em>

    </span>

    <!-- lastmod date -->
    

  

  <div class="d-flex justify-content-between">
    <!-- author(s) -->
    <span>
      

      By

      <em>
      
        
          <a href="https://github.com/Antraxmin/">Antraxmin</a>
          
        
      
      </em>
    </span>

    <div>
      <!-- page views -->
      

      <!-- read time -->
      <!-- Calculate the post's reading time, and display the word count in tooltip -->



<!-- words per minute -->










<!-- return element -->
<span
  class="readtime"
  data-bs-toggle="tooltip"
  data-bs-placement="bottom"
  title="2023 words"
>
  <em>11 min</em> read</span>

    </div>

  </div> <!-- .d-flex -->

</div> <!-- .post-meta -->

<div class="post-content">
  <h2 id="동시-세션-제어"><span class="me-2">동시 세션 제어</span><a href="#동시-세션-제어" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>동시 세션 제어란 사용자가 <span style="color: red"><strong>동시에 여러 개의 세션을 가질 수 없도록</strong></span> 제한하는 기능을 말한다.</p>

<p>동시 세션 제어를 통해 한 사용자가 동시에 여러 세션을 열지 못하도록 하거나, 여러 개의 세션 중 하나만 유효하도록 설정할 수 있다. 동시 세션 제어가 필요한 이유는 <strong>사용자의 보안을 강화</strong> 하기 위해서이다.</p>

<p>만약 동일한 사용자 계정으로 여러 세션을 동시에 열 수 있게 허용한다면 사용자가 자신의 계정 정보를 다른 사람과 공유하거나, 다른 사람이 사용자의 계정에 접근할 수 있게 된다. 예를 들면 OTT나 인터넷 강의의 ID를 여러 사람이 돌려 사용하거나 중국 해커들과 동시에 서비스를 사용할 수 있게 된다는 말이다.</p>

<p>이는 보안 측면에서 굉장히 위험하므로 동시 세션 제어 기능을 통해 <span style="color: red"><strong>사용자가 한 번에 하나의 세션만 활성화할 수 있도록</strong></span> 설정하는 것이 필요하다.</p>

<p>동시 세션 제어를 구현하는 방법으로는 크게 <span style="color: red"><strong>이전 사용자의 세션을 만료시키는 방법</strong></span>과 <span style="color: red"><strong>현재 사용자의 인증을 실패 처리하는 방법</strong></span> 이 있다.</p>

<p><a href="https://github.com/Antraxmin/Antraxmin-Blog/assets/77287236/1e230bd8-657d-42cc-8865-a3e8b41a0e6a" class="popup img-link "><img data-src="https://github.com/Antraxmin/Antraxmin-Blog/assets/77287236/1e230bd8-657d-42cc-8865-a3e8b41a0e6a" alt="image" class="lazyload" data-proofer-ignore></a></p>

<h3 id="이전-사용자-세션-만료-방식"><span class="me-2">이전 사용자 세션 만료 방식</span><a href="#이전-사용자-세션-만료-방식" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>사용자가 새로운 로그인을 시도할 때 <span style="color: red"><strong>이전 세션을 무효화</strong></span> 하는 방식이다.</p>

<p>만약 사용자 1의 계정으로 로그인되어 있는 상태에서 사용자 2가 동일한 계정으로 로그인을 시도했을 때 이전에 로그인된 사용자 1의 세션이 만료되고 사용자 2가 해당 계정으로 로그인을 유지할 수 있도록 처리한다.</p>

<div class="language-java highlighter-rouge"><div class="code-header">
        <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre></td><td class="rouge-code"><pre><span class="nd">@Configuration</span>
<span class="nd">@EnableWebSecurity</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SecurityConfig</span> <span class="kd">extends</span> <span class="nc">WebSecurityConfigurerAdapter</span> <span class="o">{</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">configure</span><span class="o">(</span><span class="nc">HttpSecurity</span> <span class="n">http</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
        <span class="n">http</span>
            <span class="c1">// 다른 보안 설정 구성</span>
            <span class="o">.</span><span class="na">sessionManagement</span><span class="o">()</span>
                <span class="o">.</span><span class="na">maximumSessions</span><span class="o">(</span><span class="mi">1</span><span class="o">)</span> <span class="c1">// 최대 허용 세션 수</span>
                <span class="o">.</span><span class="na">maxSessionsPreventsLogin</span><span class="o">(</span><span class="kc">false</span><span class="o">)</span> <span class="c1">// false로 설정하여 새로운 로그인 허용</span>
                <span class="o">.</span><span class="na">expiredUrl</span><span class="o">(</span><span class="s">"/session-expired"</span><span class="o">)</span> <span class="c1">// 세션이 만료될 때 이동할 URL</span>
                <span class="o">.</span><span class="na">and</span><span class="o">()</span>
                <span class="o">.</span><span class="na">invalidSessionUrl</span><span class="o">(</span><span class="s">"/invalid-session"</span><span class="o">)</span> <span class="c1">// 유효하지 않은 세션일 때 이동할 URL</span>
                <span class="o">.</span><span class="na">sessionAuthenticationErrorUrl</span><span class="o">(</span><span class="s">"/session-error"</span><span class="o">);</span> <span class="c1">// 세션 인증 오류 시 이동할 URL</span>
    <span class="o">}</span>
<span class="o">}</span>

</pre></td></tr></tbody></table></code></div></div>

<p>위 코드는 스프링 시큐리티에서 <strong>이전 사용자의 세션을 만료</strong> 시키는 방식의 동시 세션 제어를 구현한 것이다.</p>

<ul>
  <li>maximumSessions() : 최대 허용 세션 수 설정</li>
  <li>maxSessionsPreventsLogin() : 동시 세션 허용 여부 설정</li>
  <li>expireUrl() : 세션이 만료될 때 이동할 URL 설정</li>
  <li>invalidSessionUrl() : 유효하지 않은 세션일 때 이동할 URL 설정</li>
  <li>sessionAuthenticationErrorUrl() : 세션 인증 오류 시 이동한 URL 설정</li>
</ul>

<p><code class="language-plaintext highlighter-rouge">maxSessionsPreventsLogin()</code> 메소드의 값을 <code class="language-plaintext highlighter-rouge">false</code>로 설정하면 새로운 로그인을 허용하고 이전 세션을 만료 처리한다.</p>

<h3 id="현재-사용자-인증-실패-방식"><span class="me-2">현재 사용자 인증 실패 방식</span><a href="#현재-사용자-인증-실패-방식" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p><span style="color: red"><strong>현재 로그인을 시도하는 사용자에 대해 인증 예외를 발생</strong> </span> 시키는 방식이다.</p>

<p>사용자 1의 계정으로 로그인되어있는 상태에서 사용자 2가 동일한 계정으로 로그인을 시도하면 서버는 현재 접속하려는 사용자 2에 대해 인증 예외를 발생시키도록 처리한다. 즉 이전 사용자만 계속 사용할 수 있다.</p>

<p>아래는 스프링 시큐리티 내부에서 현재 사용자 인증 예외 처리 방식을 구현한 예제의 일부이다.</p>

<div class="language-java highlighter-rouge"><div class="code-header">
        <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
</pre></td><td class="rouge-code"><pre><span class="nd">@Configuration</span>
<span class="nd">@EnableWebSecurity</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SecurityConfig</span> <span class="kd">extends</span> <span class="nc">WebSecurityConfigurerAdapter</span> <span class="o">{</span>

    <span class="nd">@Autowired</span>
    <span class="kd">private</span> <span class="nc">AuthenticationExceptionHandler</span> <span class="n">authenticationExceptionHandler</span><span class="o">;</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">configure</span><span class="o">(</span><span class="nc">HttpSecurity</span> <span class="n">http</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
        <span class="n">http</span>
            <span class="c1">// 다른 보안 설정 구성</span>
            <span class="o">.</span><span class="na">sessionManagement</span><span class="o">()</span>
                <span class="o">.</span><span class="na">maximumSessions</span><span class="o">(</span><span class="mi">1</span><span class="o">)</span> <span class="c1">// 최대 허용 세션 수</span>
                <span class="o">.</span><span class="na">maxSessionsPreventsLogin</span><span class="o">(</span><span class="kc">true</span><span class="o">)</span> <span class="c1">// 새로운 로그인 막음</span>
                <span class="o">.</span><span class="na">expiredUrl</span><span class="o">(</span><span class="s">"/session-expired"</span><span class="o">)</span> <span class="c1">// 세션이 만료될 때 이동할 URL</span>
                <span class="o">.</span><span class="na">and</span><span class="o">()</span>
                <span class="o">.</span><span class="na">invalidSessionUrl</span><span class="o">(</span><span class="s">"/invalid-session"</span><span class="o">)</span> <span class="c1">// 유효하지 않은 세션일 때 이동할 URL</span>
                <span class="o">.</span><span class="na">sessionAuthenticationErrorUrl</span><span class="o">(</span><span class="s">"/session-error"</span><span class="o">)</span> <span class="c1">// 세션 인증 오류 시 이동할 URL</span>
                <span class="o">.</span><span class="na">and</span><span class="o">()</span>
                <span class="o">.</span><span class="na">authenticationExceptionHandling</span><span class="o">()</span> <span class="c1">// authenticationExceptionHandling 메소드 호출</span>
                    <span class="o">.</span><span class="na">accessDeniedHandler</span><span class="o">(</span><span class="n">authenticationExceptionHandler</span><span class="o">);</span>

        <span class="n">http</span>
            <span class="o">.</span><span class="na">authenticationProvider</span><span class="o">(</span><span class="n">authenticationProvider</span><span class="o">())</span>
            <span class="o">.</span><span class="na">addFilterAfter</span><span class="o">(</span><span class="k">new</span> <span class="nc">ConcurrentSessionFilter</span><span class="o">(</span><span class="n">sessionRegistry</span><span class="o">(),</span> <span class="s">"/session-expired"</span><span class="o">),</span> <span class="nc">UsernamePasswordAuthenticationFilter</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>

</pre></td></tr></tbody></table></code></div></div>

<p><code class="language-plaintext highlighter-rouge">maxSessionsPreventsLogin()</code> 값을 <code class="language-plaintext highlighter-rouge">true</code>로 변경하면 동시에 로그인한 세션이 최대 허용 세션 수를 초과하는 경우 <strong>현재 로그인을 시도한 사용자</strong> 에 대해 인증 예외를 발생시킨다.</p>

<p>인증 예외처리는 <code class="language-plaintext highlighter-rouge">authenticationExceptionHandling()</code> 를 통해 이루어진다. <code class="language-plaintext highlighter-rouge">accessDeniedHandler</code>를 사용하여 접근 거부 예외 발생 시 <code class="language-plaintext highlighter-rouge">authenticationExceptionHandler</code>를 호출하여 예외를 처리한다.</p>

<h2 id="세션-고정-보호"><span class="me-2">세션 고정 보호</span><a href="#세션-고정-보호" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>세션 고정 보호란 <strong>악의적인 세션 공격을 막기 위한 보안 기능</strong> 이다.</p>

<p>간단하게 설명하자면 <strong>공격자가 사용자의 세션을 획득</strong> 하여 인증을 우회하거나 권한을 부여받도록 하는 공격을 말한다.</p>

<p><a href="https://github.com/Antraxmin/Antraxmin-Blog/assets/77287236/727e4c2b-5c6e-463b-a34c-ee6a0035ec14" class="popup img-link "><img data-src="https://github.com/Antraxmin/Antraxmin-Blog/assets/77287236/727e4c2b-5c6e-463b-a34c-ee6a0035ec14" alt="image" class="lazyload" data-proofer-ignore></a></p>

<p>일반적으로 세션 고정 공격은 공격자가 <strong>악성 사이트를 통해 <code class="language-plaintext highlighter-rouge">세션 ID</code>를 얻는 것</strong> 으로부터 시작된다. 획득한 세션 ID를 이용하여 로그인에 성공한 후 사용자의 세션을 공유하여 권한을 획득하는 것이다.</p>

<p>스프링 시큐리티에서는 이러한 공격을 막기 위한 <strong>세션 고정 보호 기능</strong> 을 제공한다.</p>

<p>세션 고정 보호의 핵심은 <span style="color: red"><strong>로그인을 시도할때마다 새로운 세션 ID를 발급하여 제공</strong></span>한다는 것이다.</p>

<p>이때 사용자가 공격자의 세션 쿠키로 로그인하더라도 <strong>매번 새로운 세션 ID가 발급</strong> 되기 때문에 공격자는 같은 쿠키값으로 사용자의 정보를 공유받을 수 없다.</p>

<h2 id="사이트-간-요청-위조-csrf"><span class="me-2">사이트 간 요청 위조 (CSRF)</span><a href="#사이트-간-요청-위조-csrf" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2>

<p>사이트 간 요청 위조(CSRF, Cross Site Request Forgery)란 웹 취약점 공격의 하나로, <strong>사용자의 의도와 무관하게 공격자가 의도한 행위를 특정 웹사이트에 요청하도록 하는 것</strong> 을 말한다.</p>

<p><a href="https://github.com/Antraxmin/Antraxmin-Blog/assets/77287236/3a7b1604-2cd1-40e8-bddf-d992ff55dd7b" class="popup img-link "><img data-src="https://github.com/Antraxmin/Antraxmin-Blog/assets/77287236/3a7b1604-2cd1-40e8-bddf-d992ff55dd7b" alt="image" class="lazyload" data-proofer-ignore></a></p>

<p>사용자가 웹사이트에 로그인하여 정상적인 쿠키를 발급받은 상태에서 공격자가 보낸 공격용 링크에 접속하면 사용자의 의도와는 무관하게 <strong>공격용 웹사이트와 사용자의 웹 브라우저 간 상호작용</strong> 이 이루어져 다양한 공격이 가능하게 된다.</p>

<h3 id="csrfilter"><span class="me-2">CsrFilter</span><a href="#csrfilter" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3>

<p>이와 같은 CSRF 공격을 방지하기 위해 스프링 시큐리티에서는 <code class="language-plaintext highlighter-rouge">CsrFilter</code> 라는 필터를 제공한다.</p>

<p><strong>CsrFilter의 역할</strong></p>

<ul>
  <li>웹사이트에 접속한 사용자마다 고유한 <code class="language-plaintext highlighter-rouge">CSRF 토큰</code>을 생성하여 브라우저 쿠키에 저장되도록 한다. 해당 쿠키는 사용자의 세션과 연결된다.</li>
  <li>요청이 들어왔을 때 요청 헤더나 파라미터에 포함된 <code class="language-plaintext highlighter-rouge">CSRF 토큰</code>을 검증하여 유효한 요청인지 검사한다.</li>
</ul>

<p><strong>CsrFilter 구현</strong></p>

<p>아래는 스프링 시큐리티에서 CSRF 설정을 구성하는 간단한 코드이다.</p>

<div class="language-java highlighter-rouge"><div class="code-header">
        <span data-label-text="Java"><i class="fas fa-code fa-fw small"></i></span>
      <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre></td><td class="rouge-code"><pre><span class="nd">@Configuration</span>
<span class="nd">@EnableWebSecurity</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">SecurityConfig</span> <span class="kd">extends</span> <span class="nc">WebSecurityConfigurerAdapter</span> <span class="o">{</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">configure</span><span class="o">(</span><span class="nc">HttpSecurity</span> <span class="n">http</span><span class="o">)</span> <span class="kd">throws</span> <span class="nc">Exception</span> <span class="o">{</span>
        <span class="n">http</span>
            <span class="o">.</span><span class="na">csrf</span><span class="o">()</span>
                <span class="o">.</span><span class="na">csrfTokenRepository</span><span class="o">(</span><span class="nc">CookieCsrfTokenRepository</span><span class="o">.</span><span class="na">withHttpOnlyFalse</span><span class="o">());</span> <span class="c1">// CSRF 토큰을 쿠키에 저장</span>
    <span class="o">}</span>
<span class="o">}</span>

</pre></td></tr></tbody></table></code></div></div>

<p><code class="language-plaintext highlighter-rouge">configure()</code> 메소드 내부에 <code class="language-plaintext highlighter-rouge">csrf()</code> 메소드를 호출하여 CSRF 설정을 구성한다.</p>

<p><code class="language-plaintext highlighter-rouge">csrfTokenRepository()</code> 메소드를 이용하여 CSRF 토큰을 쿠키에 저장한 후 <code class="language-plaintext highlighter-rouge">withHttpOnlyFalse()</code>를 통해 자바스크립트 환경에서도 쿠키에 접근 가능하도록 설정한다.</p>

<p>이렇게 설정하면 스프링 시큐리티는 모든 HTTP 요청에 대해 CSRF 토큰을 요구하고, 요청 헤더나 파라미터에 포함된 CSRF 토큰을 검증한다.</p>

<p>토큰이 없거나 일치하지 않는 경우 <code class="language-plaintext highlighter-rouge">InvalidCsrfTokenException</code> 예외가 발생하여 요청을 거부하게 된다.</p>

</div>

<div class="post-tail-wrapper text-muted">

  <!-- categories -->
  
  <div class="post-meta mb-3">
    <i class="far fa-folder-open fa-fw me-1"></i>
    
      <a href='/categories/study/'>Study</a>,
      <a href='/categories/spring-security/'>Spring Security</a>
  </div>
  

  <!-- tags -->
  
  <div class="post-tags">
    <i class="fa fa-tags fa-fw me-1"></i>
      
      <a href="/tags/spring/"
          class="post-tag no-text-decoration" >spring</a>
      
      <a href="/tags/springsecurity/"
          class="post-tag no-text-decoration" >springsecurity</a>
      
      <a href="/tags/java/"
          class="post-tag no-text-decoration" >java</a>
      
      <a href="/tags/session/"
          class="post-tag no-text-decoration" >session</a>
      
      <a href="/tags/cookie/"
          class="post-tag no-text-decoration" >cookie</a>
      
  </div>
  

  <div class="post-tail-bottom
    d-flex justify-content-between align-items-center mt-3 pt-5 pb-2">
    <div class="license-wrapper">

      

        

        This post is licensed under 
        <a href="https://creativecommons.org/licenses/by/4.0/">
          CC BY 4.0
        </a>
         by the author.

      
    </div>

    <!-- Post sharing snippet -->

<div class="share-wrapper">
  <span class="share-label text-muted me-1">Share</span>
  <span class="share-icons">
    
    
    

    
      
      <a
        href="https://twitter.com/intent/tweet?text=[Spring%20Security]%20%EB%8F%99%EC%8B%9C%20%EC%84%B8%EC%85%98%20%EC%A0%9C%EC%96%B4%EC%99%80%20%EC%84%B8%EC%85%98%20%EA%B3%A0%EC%A0%95%20%EB%B3%B4%ED%98%B8,%20CSRF%20-%20Antraxmin&url=http%3A%2F%2Flocalhost%3A4000%2Fposts%2Flikelion-be-week7-03%2F"
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="Twitter"
        target="_blank"
        rel="noopener"
        aria-label="Twitter"
      >
        <i class="fa-fw fab fa-twitter"></i>
      </a>
    
      
      <a
        href="https://www.facebook.com/sharer/sharer.php?title=[Spring%20Security]%20%EB%8F%99%EC%8B%9C%20%EC%84%B8%EC%85%98%20%EC%A0%9C%EC%96%B4%EC%99%80%20%EC%84%B8%EC%85%98%20%EA%B3%A0%EC%A0%95%20%EB%B3%B4%ED%98%B8,%20CSRF%20-%20Antraxmin&u=http%3A%2F%2Flocalhost%3A4000%2Fposts%2Flikelion-be-week7-03%2F"
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="Facebook"
        target="_blank"
        rel="noopener"
        aria-label="Facebook"
      >
        <i class="fa-fw fab fa-facebook-square"></i>
      </a>
    
      
      <a
        href="https://t.me/share/url?url=http%3A%2F%2Flocalhost%3A4000%2Fposts%2Flikelion-be-week7-03%2F&text=[Spring%20Security]%20%EB%8F%99%EC%8B%9C%20%EC%84%B8%EC%85%98%20%EC%A0%9C%EC%96%B4%EC%99%80%20%EC%84%B8%EC%85%98%20%EA%B3%A0%EC%A0%95%20%EB%B3%B4%ED%98%B8,%20CSRF%20-%20Antraxmin"
        data-bs-toggle="tooltip"
        data-bs-placement="top"
        title="Telegram"
        target="_blank"
        rel="noopener"
        aria-label="Telegram"
      >
        <i class="fa-fw fab fa-telegram"></i>
      </a>
    

    <i
      id="copy-link"
      class="fa-fw fas fa-link small"
      data-bs-toggle="tooltip"
      data-bs-placement="top"
      title="Copy link"
      data-title-succeed="Link copied successfully!"
    >
    </i>
  </span>
</div>


  </div><!-- .post-tail-bottom -->

</div><!-- div.post-tail-wrapper -->


      
    
      
    </div>
  </div>
  <!-- #core-wrapper -->

  <!-- panel -->
  <div id="panel-wrapper" class="col-xl-3 ps-2 text-muted">
    <div class="access">
      <!-- Get the last 5 posts from lastmod list. -->














  <div id="access-lastmod" class="post">
    <div class="panel-heading">Recently Updated</div>
    <ul class="post-content list-unstyled ps-0 pb-1 ms-1 mt-2">
      
        
        
        
        <li class="text-truncate lh-lg">
          <a href="/posts/jekyll-chirpy-theme-blog/">Jekyll Chirpy 테마로 나만의 기술 블로그 만들기</a>
        </li>
      
    </ul>
  </div>
  <!-- #access-lastmod -->


      <!-- The trending tags list -->















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        



  <div id="access-tags">
    <div class="panel-heading">Trending Tags</div>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/java/">java</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/spring/">spring</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/springsecurity/">springsecurity</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/blog/">blog</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/cookie/">cookie</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/jekyll/">jekyll</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/ruby/">ruby</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/session/">session</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/springboot/">springboot</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/vercel/">vercel</a>
      
    </div>
  </div>


    </div>

    
      
      



  <div id="toc-wrapper" class="ps-0 pe-4 mb-5">
    <div class="panel-heading ps-3 pt-2 mb-2">Contents</div>
    <nav id="toc"></nav>
  </div>


    
  </div>
</div>

<!-- tail -->

  <div class="row">
    <div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-3 pe-xl-4 mt-5">
      
        
        <!--
  Recommend the other 3 posts according to the tags and categories of the current post,
  if the number is not enough, use the other latest posts to supplement.
-->

<!-- The total size of related posts -->


<!-- An random integer that bigger than 0 -->


<!-- Equals to TAG_SCORE / {max_categories_hierarchy} -->








  

  

  

  

  

  

  

  
    
  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  

  






<!-- Fill with the other newlest posts -->





  <div id="related-posts" class="mb-2 mb-sm-4">
    <h3 class="pt-2 mb-4 ms-1" data-toc-skip>
      Further Reading
    </h3>
    <div class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4">
      
        
        
        <div class="col">
          <a href="/posts/likelion-be-week7-02/" class="card post-preview h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->





<em
  class="small"
  data-ts="1687784280"
  data-df="ll"
  
>
  Jun 26, 2023
</em>

              <h4 class="pt-0 my-2" data-toc-skip>[Spring Security] 로그인과 로그아웃 처리 과정 이해하기</h4>
              <div class="text-muted small">
                <p>
                  





                  앞선 포스팅에서 스프링 시큐리티의 개념과 간단한 실습 과정을 정리하였다. 이번에는 스프링 시큐리티가 로그인과 로그아웃 요청을 어떻게 처리하는지에 대해 자세히 짚어보고자 한다.

로그인 동작 방식

스프링 시큐리티에서 로그인 요청이 들어왔을때 처리하는 전체적인 흐름은 아래와 같다.




  클라이언트 측에서 /home이라는 GET 요청을 보낸다.
  ...
                </p>
              </div>
            </div>
          </a>
        </div>
      
        
        
        <div class="col">
          <a href="/posts/likelion-be-week7-01/" class="card post-preview h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->





<em
  class="small"
  data-ts="1687784280"
  data-df="ll"
  
>
  Jun 26, 2023
</em>

              <h4 class="pt-0 my-2" data-toc-skip>[Spring Security] 스프링 시큐리티 시작하기</h4>
              <div class="text-muted small">
                <p>
                  





                  Spring Security란?

스프링 시큐리티(Spring Security)란 애플리케이션의 보안 과 인증 에 관련된 작업을 쉽게 처리할 수 있도록 도와주는 스프링의 하위 프레임워크로, 다음과 같은 보안 기능을 제공한다.


  사용자 인증 및 권한 부여
  세션 관리, 암호화, 웹 보안
  HTTP, OAuth, OpenID 등 다양한 인증 방식...
                </p>
              </div>
            </div>
          </a>
        </div>
      
        
        
        <div class="col">
          <a href="/posts/springboot-01-setup/" class="card post-preview h-100">
            <div class="card-body">
              <!--
  Date format snippet
  See: ${JS_ROOT}/utils/locale-dateime.js
-->





<em
  class="small"
  data-ts="1685167080"
  data-df="ll"
  
>
  May 27, 2023
</em>

              <h4 class="pt-0 my-2" data-toc-skip>Spring Boot 개발환경 구축 (IntelliJ)</h4>
              <div class="text-muted small">
                <p>
                  





                  스프링부트란?

기존 스프링 프레임워크의 복잡한 환경 설정을 간소화하여 쉽고 빠르게 개발을 시작할 수 있도록 도와주는 경량화 프레임워크이다. 스프링부트는 다음과 같은 편리함을 제공한다.


  내장 Tomcat 서버를 통한 빠르고 간편한 배포
  starter를 통한 의존성 관리 자동화
  xml 설정 자동화를 통한 복잡한 설정 간소화


스프링부트 ...
                </p>
              </div>
            </div>
          </a>
        </div>
      
    </div>
    <!-- .card-deck -->
  </div>
  <!-- #related-posts -->


      
        
        <!-- Navigation buttons at the bottom of the post. -->

<div class="post-navigation d-flex justify-content-between">
  
    <a
      href="/posts/likelion-be-week7-02/"
      class="btn btn-outline-primary"
      prompt="Older"
    >
      <p>[Spring Security] 로그인과 로그아웃 처리 과정 이해하기</p>
    </a>
  

  
    <a
      href="/posts/aws-ec2-freetier-billing/"
      class="btn btn-outline-primary"
      prompt="Newer"
    >
      <p>[AWS] EC2 Free Tier 탄력적 IP 과금 발생 및 소액결제 해결 후기</p>
    </a>
  
</div>

      
        
        <!--  The comments switcher -->


      
    </div>
  </div>


        <!-- The Search results -->

<div id="search-result-wrapper" class="d-flex justify-content-center unloaded">
  <div class="col-11 post-content">
    <div id="search-hints">
      <!-- The trending tags list -->















  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        

  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
    
  
    
    
    
    
  
    
    
    
    
      
        
        



  <div id="access-tags">
    <div class="panel-heading">Trending Tags</div>
    <div class="d-flex flex-wrap mt-3 mb-1 me-3">
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/java/">java</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/spring/">spring</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/springsecurity/">springsecurity</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/blog/">blog</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/cookie/">cookie</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/jekyll/">jekyll</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/ruby/">ruby</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/session/">session</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/springboot/">springboot</a>
      
        
        <a class="post-tag btn btn-outline-primary" href="/tags/vercel/">vercel</a>
      
    </div>
  </div>


    </div>
    <div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div>
  </div>
</div>

      </div>
    </div>

    <!-- The Footer -->

<footer>
  <div class="container px-lg-4">
    <div class="d-flex justify-content-center align-items-center text-muted mx-md-3">
      <p>Using the <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> theme <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a>
      </p>

      <p>©
        2023
        <a href="https://github.com/Antraxmin">Antraxmin</a>.
        
          <span
            data-bs-toggle="tooltip"
            data-bs-placement="top"
            title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author."
          >Some rights reserved.</span>
        
      </p>
    </div>
  </div>
</footer>


    <div id="mask"></div>

    <a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button">
      <i class="fas fa-angle-up"></i>
    </a>

    
      <div
        id="notification"
        class="toast"
        role="alert"
        aria-live="assertive"
        aria-atomic="true"
        data-bs-animation="true"
        data-bs-autohide="false"
      >
        <div class="toast-header">
          <button
            type="button"
            class="btn-close ms-auto"
            data-bs-dismiss="toast"
            aria-label="Close"
          ></button>
        </div>
        <div class="toast-body text-center pt-0">
          <p class="px-2 mb-3">A new version of content is available.</p>
          <button type="button" class="btn btn-primary" aria-label="Update">
            Update
          </button>
        </div>
      </div>
    

    <!-- JS selector for site. -->

<!-- commons -->



<!-- layout specified -->


  



  

  
    <!-- image lazy-loading & popup & clipboard -->
    
  















  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  

  
    

    

  



  <script src="https://cdn.jsdelivr.net/combine/npm/jquery@3.7.0/dist/jquery.min.js,npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js,npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/lazysizes@5.3.2/lazysizes.min.js,npm/magnific-popup@1.1.0/dist/jquery.magnific-popup.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.7/dayjs.min.js,npm/dayjs@1.11.7/locale/en.min.js,npm/dayjs@1.11.7/plugin/relativeTime.min.js,npm/dayjs@1.11.7/plugin/localizedFormat.min.js,npm/tocbot@4.21.0/dist/tocbot.min.js"></script>






<script defer src="/assets/js/dist/post.min.js"></script>






    

    <!--
  Jekyll Simple Search loader
  See: <https://github.com/christian-fei/Simple-Jekyll-Search>
-->





<script>
  /* Note: dependent library will be loaded in `js-selector.html` */
  SimpleJekyllSearch({
    searchInput: document.getElementById('search-input'),
    resultsContainer: document.getElementById('search-results'),
    json: '/assets/js/data/search.json',
    searchResultTemplate: '<div class="px-1 px-sm-2 px-lg-4 px-xl-0">  <a href="{url}">{title}</a>  <div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1">    {categories}    {tags}  </div>  <p>{snippet}</p></div>',
    noResultsText: '<p class="mt-5"></p>',
    templateMiddleware: function(prop, value, template) {
      if (prop === 'categories') {
        if (value === '') {
          return `${value}`;
        } else {
          return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`;
        }
      }

      if (prop === 'tags') {
        if (value === '') {
          return `${value}`;
        } else {
          return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`;
        }
      }
    }
  });
</script>

  </body>
</html>

